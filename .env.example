# AWM (Autonomous Wealth Management) System Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit your .env file to version control

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL/TimescaleDB Credentials
POSTGRES_USER=trading_user
POSTGRES_PASSWORD=your_strong_password_here
POSTGRES_DB=trading_db
POSTGRES_HOST=timescaledb
POSTGRES_PORT=5432

# =============================================================================
# BROKER API CREDENTIALS
# =============================================================================

# Zerodha Kite Connect API
ZERODHA_API_KEY=your_zerodha_api_key
ZERODHA_API_SECRET=your_zerodha_api_secret
ZERODHA_ACCESS_TOKEN=  # This will be generated daily through login flow

# =============================================================================
# EXTERNAL DATA PROVIDERS
# =============================================================================

# News API (newsapi.org)
NEWS_API_KEY=your_newsapi_key

# Alpha Vantage (for additional market data)
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key

# Yahoo Finance (backup data source)
YAHOO_FINANCE_API_KEY=your_yahoo_finance_key

# =============================================================================
# AI/LLM CONFIGURATION
# =============================================================================

# OpenAI API for AI agents
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000

# Anthropic Claude (alternative LLM)
ANTHROPIC_API_KEY=your_anthropic_api_key

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=  # Leave empty for no password
REDIS_DB=0

# =============================================================================
# RISK MANAGEMENT PARAMETERS
# =============================================================================

# Maximum position size in INR
MAX_POSITION_SIZE=100000

# Maximum daily loss limit in INR
MAX_DAILY_LOSS=10000

# Maximum portfolio risk (as decimal, e.g., 0.02 = 2%)
MAX_PORTFOLIO_RISK=0.02

# Maximum leverage allowed
MAX_LEVERAGE=3.0

# Stop loss percentage (as decimal, e.g., 0.05 = 5%)
DEFAULT_STOP_LOSS=0.05

# Take profit percentage (as decimal, e.g., 0.10 = 10%)
DEFAULT_TAKE_PROFIT=0.10

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# Slack Webhook Configuration
SLACK_WEBHOOK_URL=your_slack_webhook_url

# Email Configuration (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
ALERT_EMAIL_FROM=awm-system@yourdomain.com
ALERT_EMAIL_TO=your_email@gmail.com

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Logging Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable/Disable Paper Trading Mode
PAPER_TRADING_MODE=true

# Enable/Disable Backtesting Mode
BACKTESTING_MODE=false

# System Timezone
TIMEZONE=Asia/Kolkata

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# Market Data Server
MARKET_DATA_SERVER_HOST=0.0.0.0
MARKET_DATA_SERVER_PORT=8001

# Technical Analysis Server
TECHNICAL_ANALYSIS_SERVER_HOST=0.0.0.0
TECHNICAL_ANALYSIS_SERVER_PORT=8002

# Portfolio Management Server
PORTFOLIO_MANAGEMENT_SERVER_HOST=0.0.0.0
PORTFOLIO_MANAGEMENT_SERVER_PORT=8003

# Risk Assessment Server
RISK_ASSESSMENT_SERVER_HOST=0.0.0.0
RISK_ASSESSMENT_SERVER_PORT=8004

# Trade Execution Server
TRADE_EXECUTION_SERVER_HOST=0.0.0.0
TRADE_EXECUTION_SERVER_PORT=8005

# News Server
NEWS_SERVER_HOST=0.0.0.0
NEWS_SERVER_PORT=8006

# =============================================================================
# EXECUTION LAYER CONFIGURATION
# =============================================================================

# Risk Management Engine
RISK_MANAGEMENT_ENGINE_HOST=0.0.0.0
RISK_MANAGEMENT_ENGINE_PORT=8010

# Order Management System
OMS_HOST=0.0.0.0
OMS_PORT=8011

# Portfolio Management System
PORTFOLIO_MANAGEMENT_SYSTEM_HOST=0.0.0.0
PORTFOLIO_MANAGEMENT_SYSTEM_PORT=8012

# =============================================================================
# DASHBOARD CONFIGURATION
# =============================================================================

# Streamlit Dashboard
DASHBOARD_HOST=0.0.0.0
DASHBOARD_PORT=8501

# Dashboard Authentication (optional)
DASHBOARD_USERNAME=admin
DASHBOARD_PASSWORD=your_dashboard_password

# =============================================================================
# TRADING PARAMETERS
# =============================================================================

# Default trading session times (24-hour format)
TRADING_START_TIME=09:15
TRADING_END_TIME=15:30

# Market holidays (comma-separated dates in YYYY-MM-DD format)
MARKET_HOLIDAYS=2024-01-26,2024-03-08,2024-03-25,2024-04-11,2024-04-17,2024-05-01,2024-08-15,2024-10-02,2024-11-01,2024-11-15,2024-12-25

# Minimum order value in INR
MIN_ORDER_VALUE=1000

# Maximum orders per day
MAX_ORDERS_PER_DAY=50

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================

# Health check intervals (in seconds)
HEALTH_CHECK_INTERVAL=30

# Service timeout (in seconds)
SERVICE_TIMEOUT=60

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Secret for internal service authentication
JWT_SECRET=your_jwt_secret_key_here

# API Rate Limiting
RATE_LIMIT_PER_MINUTE=100

# Enable/Disable API authentication
API_AUTH_ENABLED=true

# =============================================================================
# DEVELOPMENT/TESTING CONFIGURATION
# =============================================================================

# Enable debug mode
DEBUG_MODE=false

# Test data directory
TEST_DATA_DIR=./test_data

# Mock external APIs in development
MOCK_EXTERNAL_APIS=false

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Database backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Backup storage location
BACKUP_STORAGE_PATH=./backups

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Worker process counts
MARKET_DATA_WORKERS=4
ANALYSIS_WORKERS=2
EXECUTION_WORKERS=2

# Cache TTL settings (in seconds)
MARKET_DATA_CACHE_TTL=60
ANALYSIS_CACHE_TTL=300
PORTFOLIO_CACHE_TTL=30

# =============================================================================
# COMPLIANCE & AUDIT
# =============================================================================

# Enable audit logging
AUDIT_LOGGING_ENABLED=true

# Audit log retention (in days)
AUDIT_LOG_RETENTION_DAYS=365

# Compliance reporting
COMPLIANCE_REPORTING_ENABLED=true
